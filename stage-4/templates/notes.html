<!DOCTYPE html>
  <html >
    <head>
      <meta charset="UTF-8">
      <title>My IPND Notes</title>
      <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
      <h1>My IPND Notes</h1>
      <div class="toc">
        <h2>Table of Contents</h2>
        <ol>
          <li><a href="#lesson-1">Lesson 1: Understanding of Servers</a>
            <ul>
              <li><a href="#lesson-1-1">From Me to the Server and Back: How the Web Works</a></li>
              <li><a href="#lesson-1-2">What is HTML?</a></li>
              <li><a href="#lesson-1-3">Tags vs. Elements vs. Attributes</a></li>
            </ul>
          </li>
          <li><a href="#lesson-2">Lesson 2: Importance of Validating Input</a>
            <ul>
              <li><a href="#lesson-2-1">HTML's Tree-like Structure</a></li>
              <li><a href="#lesson-2-2">How Web Browsers Interpret HTML</a></li>
              <li><a href="#lesson-2-3">Key Tools</a></li>
            </ul>
          </li>
          <li><a href="#lesson-3">Lesson 3: HTML Templates and Abstraction</a>
            <ul>
              <li><a href="#lesson-3-1">What is CSS?</a></li>
              <li><a href="#lesson-3-2">Specificity</a></li>
              <li><a href="#lesson-3-3">Avoiding Repetition and Having Good Style are Important</a></li>
            </ul>
          </li>
          <li><a href="#comment-section">Comments</a></li>
        </ol>
      </div>
      {% for lesson in lessons %}
        <div class="lesson" id="{{lesson.lesson_number}}">
          <div class="lesson-title">
            <h3>{{lesson.lesson_title}}</h3>
          </div>
          <div class="lesson-info">
            {% for concept in concepts[lesson.lesson_id-1] %}
              <div class="concept" id="{{concept.concept_id}}">
                <div class="concept-title">
                  <h3>{{concept.concept_title}}</h3>
                </div>
                <div class="concept-description">
                  {{concept.concept_description}}
                </div>
              </div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
      <div class="comment-section" id="comment-section">
        <div class="post-comment">
          <div>
            Logged in as: <strong>{{user_name}}</strong><br>
            <a href="{{url}}">{{url_linktext}}</a>
          </div>
          <form action="/post-comment" method="post">
            <textarea name="content"></textarea><br>
            <input type="submit" value="Post Comment">
          </form>
        </div>
        {% for comment in comments %}
        <!-- Check if the current signed in user matches with the author's identity from this particular
        # post.-->
          {% if user and user.user_id() == comment.author.identity %}
            <div class="comment">
              <strong>(You) {{comment.author.name|e}}</strong> wrote:
              <blockquote>{{comment.content|e}}</blockquote>
              <div class="comment-time">{{'{cd:%B} {cd.day}, {cd.year} | {cd.hour}:{cd:%m}'.format(cd=comment.date)}}</div>
            </div>
          {% else %}
            <div class="comment">
              <strong>{{comment.author.name|e}}</strong> wrote:
              <blockquote>{{comment.content|e}}</blockquote>
              <div class="comment-time">{{'{cd:%B} {cd.day}, {cd.year} | {cd.hour}:{cd:%m}'.format(cd=comment.date)}}</div>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </body>
  </html>
  
